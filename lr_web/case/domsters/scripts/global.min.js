function addLoadEvent(a){var b=window.onload;if(typeof window.onload!="function"){window.onload=a}else{window.onload=function(){b();a()}}}function insertAfter(c,b){var a=b.parentNode;if(a.lastChild==b){a.appendChild(c)}else{a.insertBefore(c,b.nextSibling)}}function addClass(b,c){if(!b.className){b.className=c}else{var a=b.className;a+=" ";a+=c;b.className=a}}function highlightPage(){if(!document.getElementsByTagName){return false}if(!document.getElementById){return false}var f=document.getElementsByTagName("header");if(f.length==0){return false}var e=f[0].getElementsByTagName("nav");if(e.length==0){return false}var b=e[0].getElementsByTagName("a");var a;for(var c=0;c<b.length;c++){a=b[c].getAttribute("href");if(window.location.href.indexOf(a)!=-1){b[c].className="here";var d=b[c].lastChild.nodeValue.toLowerCase();document.body.setAttribute("id",d)}}}addLoadEvent(highlightPage);function moveElement(h,i,g,c){if(!document.getElementById){return false}if(!document.getElementById(h)){return false}var d=document.getElementById(h);if(d.movement){clearTimeout(d.movement)}if(!d.style.left){d.style.left="0px"}if(!d.style.top){d.style.top="0px"}var e=parseInt(d.style.left);var b=parseInt(d.style.top);var f=0;if(e==i&&b==g){return true}if(e<i){f=Math.ceil((i-e)/10);e+=f}if(e>i){f=Math.ceil((e-i)/10);e-=f}if(b<g){f=Math.ceil((g-b)/10);b+=f}if(b>g){f=Math.ceil((b-g)/10);b-=f}d.style.left=e+"px";d.style.top=b+"px";var a="moveElement('"+h+"',"+i+","+g+","+c+")";d.movement=setTimeout(a,c)}function prepareSlideshow(){if(!document.getElementsByTagName){return false}if(!document.getElementById){return false}if(!document.getElementById("intro")){return false}var e=document.getElementById("intro");var d=document.createElement("div");d.setAttribute("id","slideshow");var g=document.createElement("img");g.setAttribute("src","images/frame.gif");g.setAttribute("alt","");g.setAttribute("id","frame");d.appendChild(g);var f=document.createElement("img");f.setAttribute("id","preview");f.setAttribute("src","images/slideshow.gif");f.setAttribute("alt","a glimpse of what awaits you");d.appendChild(f);insertAfter(d,e);var b=document.getElementsByTagName("a");var a;for(var c=0;c<b.length;c++){b[c].onmouseover=function(){a=this.getAttribute("href");if(a.indexOf("index.html")!=-1){moveElement("preview",0,0,5)}if(a.indexOf("about.html")!=-1){moveElement("preview",-150,0,5)}if(a.indexOf("photos.html")!=-1){moveElement("preview",-300,0,5)}if(a.indexOf("live.html")!=-1){moveElement("preview",-450,0,5)}if(a.indexOf("contact.html")!=-1){moveElement("preview",-600,0,5)}}}}addLoadEvent(prepareSlideshow);function showSection(c){var b=document.getElementsByTagName("section");for(var a=0;a<b.length;a++){if(b[a].getAttribute("id")!=c){b[a].style.display="none"}else{b[a].style.display="block"}}}function prepareInternalnav(){if(!document.getElementsByTagName){return false}if(!document.getElementById){return false}var c=document.getElementsByTagName("article");if(c.length==0){return false}var e=c[0].getElementsByTagName("nav");if(e.length==0){return false}var f=e[0];var a=f.getElementsByTagName("a");for(var b=0;b<a.length;b++){var d=a[b].getAttribute("href").split("#")[1];if(!document.getElementById(d)){continue}document.getElementById(d).style.display="none";a[b].destination=d;a[b].onclick=function(){showSection(this.destination);return false}}}addLoadEvent(prepareInternalnav);function preparePlaceholder(){if(!document.createElement){return false}if(!document.createTextNode){return false}if(!document.getElementById){return false}if(!document.getElementById("imagegallery")){return false}var d=document.createElement("img");d.setAttribute("id","placeholder");d.setAttribute("src","images/placeholder.gif");d.setAttribute("alt","my image gallery");var c=document.createElement("p");c.setAttribute("id","description");var b=document.createTextNode("Choose an image.");c.appendChild(b);var a=document.getElementById("imagegallery");insertAfter(c,a);insertAfter(d,c)}function prepareGallery(){if(!document.getElementById){return false}if(!document.getElementsByTagName){return false}if(!document.getElementById("imagegallery")){return false}var a=document.getElementById("imagegallery");var b=a.getElementsByTagName("a");for(var c=0;c<b.length;c++){b[c].onclick=function(){return showPic(this)?false:true}}}function showPic(e){if(!document.getElementById("placeholder")){return false}var b=e.getAttribute("href");var d=document.getElementById("placeholder");if(d.nodeName!="IMG"){return false}d.setAttribute("src",b);if(document.getElementById("description")){var c=e.getAttribute("title")?e.getAttribute("title"):"";var a=document.getElementById("description");if(a.firstChild.nodeType==3){a.firstChild.nodeValue=c}}return true}addLoadEvent(preparePlaceholder);addLoadEvent(prepareGallery);function stripeTables(){if(!document.getElementsByTagName){return false}var c=document.getElementsByTagName("table");var e,d;for(var b=0;b<c.length;b++){e=false;d=c[b].getElementsByTagName("tr");for(var a=0;
a<d.length;a++){if(e==true){addClass(d[a],"odd");e=false}else{e=true}}}}addLoadEvent(stripeTables);function highlightRows(){if(!document.getElementsByTagName){return false}var b=document.getElementsByTagName("tr");for(var a=0;a<b.length;a++){b[a].oldClassName=b[a].className;b[a].onmouseover=function(){addClass(this,"highlight")};b[a].onmouseout=function(){this.className=this.oldClassName}}}addLoadEvent(highlightRows);function displayAbbreviations(h){if(!document.getElementsByTagName){return false}if(!document.createElement){return false}if(!document.createTextNode){return false}var d=document.getElementsByTagName("abbr");if(d.length<1){return false}var c=new Array();for(var e=0;e<d.length;e++){var q=d[e];if(q.childNodes.length<1){return false}var a=q.getAttribute("title");var o=q.lastChild.nodeValue;c[o]=a}var p=document.createElement("dl");for(o in c){var a=c[o];var g=document.createElement("dt");var b=document.createTextNode(o);g.appendChild(b);var n=document.createElement("dd");var l=document.createTextNode(a);n.appendChild(l);p.appendChild(g);p.appendChild(n)}if(p.childNodes.length<1){return false}var f=document.createElement("h3");var m=document.createTextNode("Abbreviations");f.appendChild(m);var j=document.getElementsByTagName(h);if(j.length==0){return false}var k=j[0];k.appendChild(f);k.appendChild(p)}addLoadEvent(function(){displayAbbreviations("article")});function focusLabels(){if(!document.getElementsByTagName){return false}var b=document.getElementsByTagName("label");for(var a=0;a<b.length;a++){if(!b[a].getAttribute("for")){continue}b[a].onclick=function(){var d=this.getAttribute("for");if(!document.getElementById(d)){return false}var c=document.getElementById(d);c.focus()}}}addLoadEvent(focusLabels);function resetFields(d){if(Modernizr.input.placeholder){return}for(var c=0;c<d.elements.length;c++){var b=d.elements[c];if(b.type=="submit"){continue}var a=b.placeholder||b.getAttribute("placeholder");if(!a){continue}b.onfocus=function(){var e=this.placeholder||this.getAttribute("placeholder");if(this.value==e){this.className="";this.value=""}};b.onblur=function(){if(this.value==""){this.className="placeholder";this.value=this.placeholder||this.getAttribute("placeholder")}};b.onblur()}}function prepareForms(){for(var a=0;a<document.forms.length;a++){var b=document.forms[a];resetFields(b);b.onsubmit=function(){if(!validateForm(this)){return false}var c=document.getElementsByTagName("article")[0];if(submitFormWithAjax(this,c)){return false}return true}}}addLoadEvent(prepareForms);function validateForm(c){for(var b=0;b<c.elements.length;b++){var a=c.elements[b];if(a.required=="required"){if(!isFilled(a)){alert("Please fill in the "+a.name+" field.");return false}}if(a.type=="email"){if(!isEmail(a)){alert("The "+a.name+" filed must be a valid email address.");return false}}}return true}function isFilled(a){if(a.value.replace(" ","").length==0){return false}var b=a.placeholder||a.getAttribute("placeholder");return a.value!=b}function isEmail(a){return(a.value.indexOf("@")!=-1)&&(a.value.indexOf(".")!=-1)}function getHTTPObject(){if(typeof XMLHttpRequest=="undefined"){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}return false}return new XMLHttpRequest()}function displayAjaxLoading(a){while(a.hasChildNodes()){a.removeChild(a.lastChild)}var b=document.createElement("img");b.setAttribute("src","images/loading.gif");b.setAttribute("alt","Loading...");a.appendChild(b)}function submitFormWithAjax(e,a){var d=getHTTPObject();if(!d){return false}displayAjaxLoading(a);var g=[];var c;for(var b=0;b<e.elements.length;b++){c=e.elements[b];g[b]=c.name+"="+encodeURIComponent(c.value)}var f=g.join("&");d.open("POST",e.getAttribute("action"),true);d.setRequestHeader("Content-type","application/x-www-form-urlencoded");d.onreadystatechange=function(){if(d.readyState==4){if(d.status==200||d.status==0){var h=d.responseText.match(/<article>([\s\S]+)<\/article>/);if(h.length>0){a.innerHTML=h[1]}else{a.innerHTML="<p>Oops, there was an error. Sorry.</p>"}}else{a.innerHTML="<p>"+d.statusText+"</p>"}}};d.send(f);return true};